/*! validater by ZHAO Xudong, html5beta.com 2014-08-06 */
!function(){function a(a){if(!a)throw new Error("no jquery object!");var b=a.validater={};b.version="1.0.3",b.defaults={showTipOnfocus:!1,showOKtip:!1,okHtml:"&radic;"},b.evt=function(b,c){var d=c&&c.rules?c.rules:{},e=a.validater,f=e.defaults,g=f.showTipOnfocus,h=f.showOKtip;b.each(function(){var b,c=a(this),f=c.prop("name"),i=a.extend({reg:c.data("reg")?new RegExp(c.data("reg")):"",minLen:c.data("min-len"),maxLen:c.data("max-len"),optional:c.data("optional"),tip:c.data("tip"),errMsg:c.data("err-msg"),regMsg:c.data("reg-msg"),minLenMsg:c.data("min-len-msg"),maxLenMsg:c.data("max-len-msg"),customMsg:c.data("custom-msg"),ignore:!!c.data("ignore"),noTip:!!c.data("no-tip"),noOkTip:h&&!!c.data("no-ok-tip"),events:c.data("events"),errWrap:c.data("err-wrap")},d[f]||{}),j=c.siblings("."+f+"-err-wrap"),k=j.length?j:c,l=i.errWrap,m=j.length?"html":"after";m=l?"html":m,k=l?a(l):k,b="html"===m?"children":"next",i=a.extend(i,{wrap:k,func:m,errFunc:b}),c.data("vr-opt",i),g&&!i.noTip&&c.on("focus",function(){c[b](".err-item").length||i.noTip||e.output(c,i,{cls:"vr-tip",msg:i.tip})}),c.on(i.events||"keyup blur change",function(){e.check(c,i)})})},b.output=function(b,c,d){var e=!c.noTip,f=d.cls,g=d.msg,h=!!d.select,i=(b.prop("name"),c.func),j=c.errFunc,k=c.wrap,l=a.validater,m=l.defaults;k[j](".err-item").remove(),"vr-ok"===f?(b.removeClass("err"),e&&m.showOKtip&&!c.noOkTip&&k[i]('<i class="err-item '+f+'">'+m.okHtml+"</i>")):"vr-tip"===f?(b.removeClass("err"),e&&k[i]('<i class="err-item '+f+'">'+g+"</i>")):"vr-err"===f&&(b.addClass("err"),e&&k[i]('<i class="err-item '+f+'">'+g+"</i>"),h&&b.select())},b.check=function(b,c,d,e,f,g){var h=b.val(),i=b.prop("name"),j=a.validater.output,k={minLen:c.minLen?h.length>=c.minLen:"ignore",maxLen:c.maxLen?h.length<=c.maxLen:"ignore",custom:c.custom?c.custom(b,c):"ignore",reg:c.reg?c.reg.test(h):"ignore"},l=c.optional&&h||!c.optional,m=k.minLen&&k.maxLen&&k.custom&&k.reg||!l,n=c.errFunc,o=c.wrap;return o[n](".err-item").remove(),l&&k.minLen===!1?j(b,c,{select:g,cls:"vr-err",msg:c.minLenMsg||c.errMsg||c.tip}):l&&k.maxLen===!1?(j(b,c,{select:g,cls:"vr-err",msg:c.maxLenMsg||c.errMsg||c.tip}),b.val(h.slice(0,c.maxLen))):l&&k.custom===!1?j(b,c,{select:g,cls:"vr-err",msg:c.customMsg||c.errMsg||c.tip}):l&&k.reg===!1?j(b,c,{select:g,cls:"vr-err",msg:c.regMsg||c.errMsg||c.tip}):j(b,c,{select:g,cls:"vr-ok"}),m&&d&&(!c.ignore||f)?e.submit[i]=c.valueFilter?c.valueFilter(h):h:!m&&d&&e.res++,m},b.submit=function(b,c){var d={submit:{},res:0},e=a.validater.check;return b=a(b.toArray().reverse()),b.each(function(){var b=a(this),f=b.data("vr-opt");e(b,f,!0,d,c,!0)}),d}}"function"==typeof define?define(function(require){var b=require("jquery");a(b)}):a(jQuery)}(this);